# 메모리 영역(Code, Data, Stack, Heap)

프로그램을 실행하면 운영체제는 메모리(RAM) 공간을 확보하여 프로그램에 할당해준다. 이때 할당되는 메모리 공간은 크게 코드(code), 데이터(data), 스택(stack), 힙(heap) 영역으로 나뉜다. 아래는 C언어의 메모리 구조이다.  

![C언어의 메모리의 구조](https://perfectacle.github.io/2017/02/09/C-ref-004/memory.png)  

<br>

### **1) Code**

작성된 소스 코드가 들어간다. 상수 또한 여기에 들어간다. 프로그램이 끝날 때까지 메모리에 적재된다.

### **2) Data**

전역 변수, static 변수 등등이 저장된다. 프로그램이 끝날 때까지 메모리에 계속 적재된다.

### **3) Stack**

지역 변수, 매개 변수, 리턴 값 등등이 저장된다. 함수 호출시 생성되고, 함수가 종료되면 시스템에 반환된다. 프로그램이 자동으로 사용하는 임시 메모리 영역이다. 컴파일 시에 크기가 결정된다.

### **4) Heap**
프로그래머가 할당, 해제하는 메모리 공간이다. malloc() 또는 new 연산자를 통해 할당하고, free() 또는 delete 연산자를 통해서만 해제 가능하다. Java에서는 가비지 컬렉터가 자동 해제한다. 이 공간에 메모리를 할당하는 것을 **동적 할당(Dynamic Memory Allocation)**이라고 부른다. 런타임 시에 크기가 결정된다.

Stack 영역이 클수록 Heap 영역이 작아지고, Heap 영역이 커지면 Stack 영역이 작아진다.

---

**Reference**

[blog](https://perfectacle.github.io/2017/02/09/C-ref-004/)

